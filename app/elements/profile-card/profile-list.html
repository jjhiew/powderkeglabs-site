<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/marked-element/marked-element.html">

<link rel="import" href="profile-card.html">
<link rel="import" href="../services/people-service.html">

<polymer-element name="pkl-profile-list" attributes="shadow smallScreen">
  <template>
    <style>
      :host .persons__container--list {
        position:relative;
      }

      :host .person {
        margin-top: 50px;
        margin-bottom: 50px;
      }

      :host .person-section--alternate {
        background-color:#efefef;
      }

      :host .person-separator--left:not(:first-of-type){
        width: 30%;
        border-top: 1px solid #b6b6b6;
        /*margin:auto;*/
      }

      :host .person-separator--right:not(:first-of-type){
        width: 30%;
        border-top: 1px solid #b6b6b6;
        position: absolute;
        right: 0px;
      }

      :host .person__image{
        height: 280px;
        width: 280px;
        border-radius: 50%;
      }

      :host .person__bio {
        height: 100%;
        position: relative;
        padding-left:20px;
        padding-right:20px;
      }

      :host .person__bio__container {
        padding-top: 20px
      }

      :host .person__bio--name{
        font-size: 36px;
        font-weight: 600;
      }

      :host .person__bio--title{
        text-transform: uppercase;
        font-size: 20px;
        color: #727272;
        margin-top: -10px;
      }

      :host .person__bio--description {
        padding-top: 20px;
      }


      @media screen and (max-width: 500px) {

        :host .person__image{
          height: 200px;
          width: 200px;
        }

        :host .person__bio__container {
          text-align: center;
        }

      }

    </style>
    <link rel="stylesheet" href="/styles/main.css">
    <div class="persons__container--list" layout vertical wrap center-justified>
      <template repeat="{{person in peopleItems}}">

        <section class="{{!(person.id % 2) ? 'person-section--alternate' : 'person-section'}}">
          <div class="container">
            <div layout vertical?="{{smallScreen}}" horizontal?="{{!smallScreen}}" center?="{{smallScreen}}" class="person">

              <!-- Fullscreen: image on left.  Smallscreen: everything centre-->
              <template if="{{(person.id % 2) || smallScreen}}">
                <div auto-vertical center?="{{smallScreen}}" >
                  <core-image src="{{person.image}}" class="person__image" sizing="cover"></core-image>
                </div>
                <div auto-vertical center?="{{smallScreen}}" flex class="person__bio">
                  <div class="person__bio__container" layout vertical>
                    <span class="person__bio--name">{{person.name}}</span>
                    <span class="person__bio--title">{{person.title}}</span>
                    <span class="person__bio--description"><marked-element>{{person.description}}</marked-element></span>
                  </div>
                </div>
              </template>

              <!-- Alternating Fullscreen: image on right. Smallscreen: hidden -->
              <template if="{{!(person.id % 2) && !smallScreen}}">
                <div auto-vertical center?="{{smallScreen}}" flex class="person__bio">
                  <div class="person__bio__container" layout vertical>
                    <span class="person__bio--name">{{person.name}}</span>
                    <span class="person__bio--title">{{person.title}}</span>
                    <span class="person__bio--description"><marked-element>{{person.description}}</marked-element></span>
                  </div>
                </div>
                <div auto-vertical center?="{{smallScreen}}">
                  <core-image src="{{person.image}}" class="person__image" sizing="cover"></core-image>
                </div>
              </template>

            </div>
          </div>
        </section>

      </template>
    </div>

    <pkl-people-service id="peopleService" peopleItems="{{peopleItems}}"></pkl-people-service>
  </template>
  <script>
    Polymer('pkl-profile-list', {
    });
  </script>
</polymer-element>
