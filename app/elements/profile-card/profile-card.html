<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="/bower_components/core-collapse/core-collapse.html">
<link rel="import" href="/bower_components/paper-dialog/paper-action-dialog.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">

<polymer-element name="pkl-profile-card" attributes="id">
  <template>      
    <link rel="stylesheet" href="/bower_components/normalize.css/normalize.css">
    <link rel="stylesheet" href="/styles/skeleton.css">    
    <style>
      :host .person {
          position: relative;
          border-bottom: 1px solid #ccc;
          padding: 5px 5px 5px 5px;
          /*margin-bottom: 0;*/
      }

      :host .person__image{
        /*display: inline-block;*/
        border: 1px solid #999;        
        border-radius: 50%;
        background-color: #999;
        height: 64px;
        width: 64px;

      }

      .person__details {
        margin-left: 15px;
      }

/*      polyfill-next-selector { content: '.person img'; }
      .person ::content img {
        width: 100%;
        position: relative;
      }*/

      polyfill-next-selector { content: '.person h4'; }
      .person ::content h4{
        font-size: 20px;
        padding-bottom: 0px;
        margin-bottom: 0px;
        opacity: 0.87
      }

      polyfill-next-selector { content: '.person h6'; }
      .person ::content h6{
        font-size: 14px;
        padding-bottom: 0px;
        margin-bottom: 0px;
        color: #333;
        opacity: 0.87
      }


      :host .person__collapse__description {
        padding-top: 10px;
        font-style: italic;

      }

      :host /deep/ .person__dialog {
        position; fixed;
        top: 20px;
        right: 20px;
      }

    </style>
    <link rel="stylesheet" href="/styles/main.css">

    <div class="person">

      <div class="person__snippet" layout horizontal center>
        <div class="person__image"></div>
        <!-- <content select="img"></content> -->
        <div class="person__details" flex>
          <content select="h4"></content>
          <content select="h6"></content>
        </div>

        <div class="person__indicator">
          <core-icon-button icon="chevron-right" id="collapse-button" on-click="{{toggle}}"></core-icon-button>
        </div>
      </div>
      
    <!-- <div class="person__collapse">
      <core-collapse id="collapse">
        <div class="person__collapse__description"><content select="p"></content></div>
      </core-collapse>
    </div> -->
    
      <paper-action-dialog id="dialog" backdrop transition="core-transition-right" class="person__dialog">
        <content select="p"></content>
        <paper-button affirmative>Close</paper-button>
      </paper-action-dialog>
    </div>

  </template>

  <script>
    Polymer('pkl-profile-card', {
      ready: function(){
        // this.$.collapse.opened=true;
      },
      toggle: function(e){
        // this.$.collapse.toggle();
        this.$.dialog.toggle();
      }
    });
  </script>

</polymer-element>