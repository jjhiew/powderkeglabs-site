<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="/bower_components/paper-dialog/paper-action-dialog.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/core-image/core-image.html">

<polymer-element name="pkl-profile-card" attributes="id type image">
  <template>
    <link rel="stylesheet" href="/bower_components/normalize.css/normalize.css">
    <link rel="stylesheet" href="/styles/skeleton.css">
    <style>

      :host {
        display: inline-block;
        border: 1px solid #000;
        width:300px;
        margin-bottom: 20px;
      }

      :host .person {
          position: relative;
          /*border-bottom: 1px solid #ccc;*/
          padding: 5px 5px 5px 5px;
          margin-top: 10px;
          margin-bottom: 10px;
      }

      :host .person__image{
        /*display: inline-block;*/
        border: 1px solid #999;
        border-radius: 50%;
        background-color: #999;
        height: 64px;
        width: 64px;

      }

      :host .person__indicator{
        opacity: 0.87;
        color: #666
      }

      .person__details {
        margin-left: 15px;

      }

/*      polyfill-next-selector { content: '.person img'; }
      .person ::content img {
        width: 100%;
        position: relative;
      }*/

      polyfill-next-selector { content: '.person h4'; }
      .person ::content h4{
        font-size: 20px;
        padding-bottom: 0px;
        margin-bottom: 0px;
        opacity: 0.87
      }

      polyfill-next-selector { content: '.person h6'; }
      .person ::content h6{
        font-size: 14px;
        padding-bottom: 0px;
        margin-bottom: 0px;
        color: #333;
        opacity: 0.87
      }

      :host /deep/ .person__dialog {
        position; fixed;
        top: 20px;
        right: 20px;
      }

    </style>
    <link rel="stylesheet" href="/styles/main.css">

    <!-- List type Template -->
      <div class="person">
        <div layout horizontal center on-tap="{{toggle}}">
          <div class="person__image">
            <!-- @TODO: Add Image -->
          </div>
          <div class="person__snippet" layout horizontal center flex>
            <div class="person__details" flex>
              <content select="h4"></content>
              <content select="h6"></content>
            </div>
            <div class="person__indicator">
              <core-icon-button icon="chevron-right" id="collapse-button"></core-icon-button>
            </div>
          </div>
        </div>
      </div>

    <paper-action-dialog id="dialog" backdrop transition="core-transition-right" class="person__dialog">
      <content select="p"></content>
      <paper-button affirmative>Close</paper-button>
    </paper-action-dialog>

  </template>
  <script>
    Polymer('pkl-profile-card', {
      toggle: function(e){
        console.log("toggle");
        this.$.dialog.toggle();
      }
    });
  </script>

</polymer-element>
