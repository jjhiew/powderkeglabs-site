<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../layouts/sidebar-layout.html">
<link rel="import" href="../link-button/link-button.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">
<link rel="import" href="../../bower_components/core-icons/av-icons.html">
<link rel="import" href="../../bower_components/core-icons/social-icons.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/core-media-query/core-media-query.html">


<polymer-element name="pkl-home-page" attributes="selected smallScreen">
  <template>
    <style>

      :host .home__header {
        text-align: center;
        height: 82vh;
        color: #fff
      }

      :host .header__container__content {
        /*shim it up slightly because of nav toolbar*/
        margin-top: -20px;
      }

      :host .header__container__content__image{
        margin-bottom: 30px;
      }

      :host .content__container h6 {
          font-size: 20px;
          font-weight: 600;
          text-transform: uppercase;
      }

      :host .home__uvp {
        background-color: #626B8A;
        color: #fff;
      }

      :host .home__success {
        background-color: #fff;
      }

      :host .home__who {
        background-color: #fff;
      }

      :host .content__container--who {
        padding-top: 400px;
        padding-bottom: 400px;
      }

      :host .fab {
        position: relative;
        top: -28px;
        background-color: #fff;
        color: #212121;
      }

      :host .meet {
        background-color: #626B8A;
        color: #fff
      }

      :host .vert {
        margin-top: 30px;
        margin-bottom: 30px;
      }

      :host .hor {
        padding-left:10px;
        padding-right:10px;
      }

      :host .feature-icon {
        height: 100px;
        width: 100px;
      }

      @media screen and (max-width: 500px) {
        :host .header__container__content__image {
          height: 220px;
        }
      }


    </style>
    <link rel="stylesheet" href="/styles/main.css">

    <pkl-sidebar-layout id="layout" selected="home" toolbarTransparent="true" bgImage="/images/desktop-bt.jpg">
      <div class="title">Home</div>

      <!--Content Container Start -->
      <div class="content">

        <section class="home__header">
          <div class="container header__container" layout horizontal center center-justified>
            <div class="header__container__content" layout vertical center>
              <img class="header__container__content__image" src="/images/pkl-logo-transparent-v2-invert.png"/>
              <!-- <h4>Developing Impactful Startups</h4> -->
            </div>
          </div>
        </section>

        <section class="home__who">
          <div layout horizontal center center-justified>
            <paper-fab id="superfab" class="fab" icon="expand-more" on-click="{{fabClick}}" slide-up></paper-fab>
          </div>
          <div class="container content__container content__container--who">
            <!-- <h4>We are a digital product development and venture firm. We design, build, operate, and invest in transformational software products.</h4> -->
            <h4 style="margin-top:-40px;">We partner with startups to design, develop, and launch innovative digital products.</h4>
            <!-- <h4>We are startup consultants and developers. We partner with companies we believe in to develop, launch and grow innovative digital services.</h4> -->
            <pkl-link-button  raised="raised" label="About Powderkeg" href="/#/about"></pkl-link-button>
          </div>
        </section>

        <section class="home__uvp">
          <div class="container content__container" id="howitworks">
            <div layout center-justified vertical?="{{smallScreen}}" horizontal?="{{!smallScreen}}" center?="{{smallScreen}}">

              <div auto-vertical style="{{smallScreen ? largeFeatures : smallFeatures}}" class="{{smallScreen ? 'vert' : 'hor'}}">
                <core-icon icon="trending-up" class="feature-icon"></core-icon>
                <h6>Consulting</h6>
                <p>We help our partners solve real world business problems. We provide CTO-level guidance, strategy, and vision to ensure their long-term growth.</p>
              </div>
              <div auto-vertical style="{{smallScreen ? largeFeatures : smallFeatures}}" class="{{smallScreen ? 'vert' : 'hor'}}">
                <core-icon icon="hardware:laptop-mac" class="feature-icon"></core-icon>
                <h6>Development</h6>
                <p>Our developers work with existing dev teams or we become the entire dev team. We help our partners build and scale their products and services.</p>
              </div>
              <div auto-vertical style="{{smallScreen ? largeFeatures : smallFeatures}}" class="{{smallScreen ? 'vert' : 'hor'}}">
                <core-icon icon="social:poll" class="feature-icon"></core-icon>
                <h6>Investment</h6>
                <!-- <p>We invest in our partnerships by providing services at a reduced cost in exchange for equity, profit sharing, or other flexible incentive structure.</p> -->
                <p>We invest development resources in impactful startups. Our services are at a reduced cost in exchange for a flexible incentive structure.</p>
              </div>

            </div>

            <div>
              <pkl-link-button raised="raised" label="Learn More"  href="/#/about"></pkl-link-button>
            </div>

          </div>
        </section>

      </div>
      <!-- End Content Container -->

    </pkl-sidebar-layout>

    <core-media-query query="max-width:800px" queryMatches="{{smallScreen}}"></core-media-query>
  </template>

  <script>
    Polymer('pkl-home-page', {
      smallFeatures: "width: 100%",
      largeFeatures: "width: 100%",
      attached: function() {

        //Make the scroll-down fab pulse
        var elem = this.$.superfab;
        var player = elem.animate([
          {opacity: "1.0", transform: "scale(1)"},
          {opacity: "1.0", transform: "scale(0.80)"}
        ],
        {
          direction: "alternate", duration: 500, iterations: 8
        });
      },
      fabClick: function(e){
        var yPos = $(e.toElement).get(0).offsetTop; //28px for top offset @TODO: dynamic calculate this
        this.fire('scroll-page-to', {msg: yPos});
      }

    });
  </script>

</polymer-element>
